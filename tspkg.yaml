name: pcl
version: 1.9.1

extra_deps:
  apt: libflann1.8 libflann-dev libeigen3-dev libqhull*

build: |
  export CMAKE_PREFIX_PATH=$INSTALL_DIR:$CMAKE_PREFIX_PATH
  cmake_install() {
    pushd $1
    [[ -n $CLEANUP ]] && rm -r build
    mkdir -p build
    cd build
    #cmake -DBUILD_GPU=OFF -DWITH_VTK=OFF -DCMAKE_INSTALL_PREFIX=$INSTALL_DIR -DCMAKE_BUILD_TYPE=$CMAKE_BUILD_TYPE ..
    cmake -D CMAKE_BUILD_TYPE=None  -D BUILD_GPU=OFF -DWITH_VTK=OFF  -D CMAKE_INSTALL_PREFIX=$TSPKG_PREFIX_PATH  ../
    make -j8
    make install
    popd
  }
  cmake_install .
